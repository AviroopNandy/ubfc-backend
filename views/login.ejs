<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
</head>
<body>
    <!-- <form action="/users/login" method="post">
        <input type="text" placeholder="Enter your phone no." name="userid">
        <input type="password" placeholder="Enter your password" name="password">
        <button type="submit">Submit</button>
    </form>

    <h4>Don't have an account? <a href="/signupPage">Sign Up</a> </h4> -->



    <h3>Aadhaar Card Verification with Digilocker</h3>
    <button id="digilocker-btn">Fetch Data</button>


    <script>
        // document.getElementById("login-form").addEventListener("submit", (e)=>{
        //     e.preventDefault();
        //     let userid = e.target[0].value;
        //     let pass = e.target[1].value;

        //     let data = {
        //         "userid": userid,
        //         "password": pass 
        //     };

        //     console.log(data);

        //     const Params = {
        //         headers: {
        //             "content-type": "application/json"
        //         },
        //         body: JSON.stringify(data),
        //         method: "POST"
        //     }
        //     fetch('/users/login', Params)
        //         .then(data => { return data.json() })
        //         .then(res => { console.log(res) })
        //         .catch(err => { console.log(err) })

        // })

        const digilockerBtn = document.getElementById("digilocker-btn");
        digilockerBtn.addEventListener("click", (req, res)=>{

            fetch("/hi").then((response)=>{
                return response.json();
            }).then((response)=>{
                console.log(response.data);

                const URL = `https://l78q9zougd.execute-api.ap-south-1.amazonaws.com/default/Digilocker_request?s=ubfc&data=${response.data}`;
                // const Params = {
                //     headers: {
                //         "content-type": "application/json"
                //     },
                //     body: JSON.stringify({s: "ubfc", data: response.data}),
                //     method: "GET"
                // }
                fetch(URL).then((response)=>{
                    // return response.json();
                // }).then((response)=>{
                    console.log(response);
                }).catch((err)=>{
                    console.log(err);
                });
                

            }).catch((err)=>{
                console.log(err);
            })

        })

    </script>


</body>
</html>